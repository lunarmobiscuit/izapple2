0000fe-0000ff   ; GLOBAL @TXTPTR
0000fd          ; GLOBAL @TXTWIDTH
00ff00          ; GLOBAL @TXTROW
00ff01          ; GLOBAL @TXTPOS
00ff02          ; GLOBAL @TXTPGROWS
00ff03          ; GLOBAL @DISPMODE
00ff04          ; GLOBAL @PREVDISP
00ff05          ; GLOBAL @CURCHR
00ff06          ; GLOBAL @PMPTCHR
00ff10-00ff12   ; GLOBAL @RAMTOP
00ff13-00ff15   ; GLOBAL @HEAPSTART
00ff16-00ff18   ; GLOBAL @RUNLENGTH
00fe00          ; GLOBAL @TYPBUFFER
00fe50          ; GLOBAL @TYPBUFFER2
00fea0          ; GLOBAL @TYPBUFFER3
00c0f0          ; GLOBAL @DISK4_CMD
00c0f1          ; GLOBAL @DISK4_PARAM0
00c0f4          ; GLOBAL @DISK4_PARAM1
00c0f7          ; GLOBAL @DISK4_RET0
00c0fa          ; GLOBAL @DISK4_RET1
00c0fd          ; GLOBAL @DISK4_RET2
00c0ff          ; GLOBAL @DISK4_GO
00c800          ; GLOBAL @DISK4_RAM
00c700          ; GLOBAL @SLOT_7_ROM
00c800          ; GLOBAL @PR_RAM
000100          ; GLOBAL @INPBUFFER
000150          ; GLOBAL @INPBUFFER2
0001a0          ; GLOBAL @INPBUFFER3
000080-000081   ; GLOBAL @ScreenBase
000082          ; GLOBAL @CURSORX
000083          ; GLOBAL @CURSORY
000084          ; GLOBAL @LASTKEY
000085          ; GLOBAL @EDITING
000086-000087   ; GLOBAL @VIEWYFROM
000088-000089   ; GLOBAL @VIEWYTO
00008a          ; GLOBAL @OLDVALUEH
00008b          ; GLOBAL @OLDVALUEL
00008c          ; GLOBAL @NEWVALUEH
00008d          ; GLOBAL @NEWVALUEL
00008e-00008f   ; GLOBAL @FILESIZE
000091-000092   ; GLOBAL @NFILEROWS
000093          ; GLOBAL @SAVEDROW
000094          ; GLOBAL @SAVEDPOS

010000 ; SUB BINedit:
00d000          ; VAR @NPRM
00d001-00d003   ; VAR @CMD
00d004-00d006   ; VAR @FILENAME
010000 a9 00                               lda #$0               ; DISP_TEXT_1
010002 4f 5c 08 00 ff                      jsr.a24 ($ff0008)     ; os4_SetScreenMode
010007 a9 02                               lda #$2
010009 8d 00 ff                            sta $ff00             ; TXTROW
01000c 9c 01 ff                            stz $ff01             ; TXTPOS
01000f a2 00                               ldx #$0
010011 4f 5c 3e 00 ff                      jsr.a24 ($ff003e)     ; os4_ClearScreen
010016 a9 80                               lda #$80              ; DISP_TEXT_2
010018 4f 5c 08 00 ff                      jsr.a24 ($ff0008)     ; os4_SetScreenMode
01001d 4f 20 51 0a 01                      jsr.a24 $010a51       ; clearText2Screen
010022 64 82                               stz $82               ; CURSORX
010024 64 83                               stz $83               ; CURSORY
010026 64 85                               stz $85               ; EDITING
010028 64 8a                               stz $8a               ; OLDVALUEH
01002a 64 8b                               stz $8b               ; OLDVALUEL
01002c 64 8c                               stz $8c               ; NEWVALUEH
01002e 64 8d                               stz $8d               ; NEWVALUEL
010030 1f 64 86                            stz.w $86             ; VIEWYFROM
010033 1f 64 88                            stz.w $88             ; VIEWYTO
010036                 FOR10036_start:
010036                                 ;; FOR X = 0 TO 39 {
010036 a2 00                               ldx #$0
010038                 FOR10036_loop:
010038 4f bd 18 0b 01                      lda.a24 $010b18,X     ; Header
01003d f0 0a                               beq +10               ; for10036_end [10049]
01003f 09 80                               ora #$80
010041 9d 04 04                            sta $0404,X
010044 e8                                  inx
010045 e0 28                               cpx #$28
010047 d0 ef                               bne -17               ; FOR10036_loop [10038]
010049                 FOR10036_end:
010049 ad 00 d0                            lda $d000             ; NPRM
01004c                                 ;; IF == {
01004c d0 0e                               bne +14               ; IF1004c_else [1005c]
01004e 1f a9 00 04                         lda.w #$400
010052 1f 85 8e                            sta.w $8e             ; FILESIZE
010055 4f 20 0b 0a 01                      jsr.a24 $010a0b       ; calculateRows
01005a 80 05                               bra +5                ; IF1004c_end [10061]
01005c                 IF1004c_else:
01005c                                 ;; ELSE
01005c 4f 20 78 06 01                      jsr.a24 $010678       ; DoLoad
010061                 IF1004c_end:
010061 4f 20 ec 03 01                      jsr.a24 $0103ec       ; drawValues
010066 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
01006b 4f 20 98 09 01                      jsr.a24 $010998       ; ClearInputBuffers
010070                 LOOP10070_start:
010070                                 ;; LOOP {
010070                 LOOP10070_loop:
010070 4f 5c 0b 00 ff                      jsr.a24 ($ff000b)     ; os4_SetScreenBase
010075 ad 01 ff                            lda $ff01             ; TXTPOS
010078                                 ;; IF == {
010078 d0 14                               bne +20               ; IF10078_end [1008e]
01007a a9 c2                               lda #$c2
01007c 4f 5c 11 00 ff                      jsr.a24 ($ff0011)     ; os4_PrintChar
010081 ad 06 ff                            lda $ff06             ; PMPTCHR
010084 4f 5c 11 00 ff                      jsr.a24 ($ff0011)     ; os4_PrintChar
010089 4f 5c 17 00 ff                      jsr.a24 ($ff0017)     ; os4_PrintCursor
01008e                 IF10078_end:
01008e                 LOOP1008e_start:
01008e                                 ;; LOOP {
01008e                 LOOP1008e_loop:
01008e 2c 00 c0                            bit $c000             ; KBD
010091                                 ;; IF - {
010091 10 04                               bpl +4                ; IF10091_end [10097]
010093                                 ;; BREAK
010093 4f 80 02 00                         bra.a24 +2            ; loop1008e_end [10099]
010097                 IF10091_end:
010097 80 f5                               bra -11               ; LOOP1008e_loop [1008e]
010099                 LOOP1008e_end:
010099 ad 00 c0                            lda $c000             ; KBD
01009c 85 84                               sta $84               ; LASTKEY
01009e 4f 20 70 0a 01                      jsr.a24 $010a70       ; debugValueT2
0100a3 a5 84                               lda $84               ; LASTKEY
0100a5 2c 10 c0                            bit $c010             ; KBDSTRB
0100a8                                 ;; IF == 141 {
0100a8 c9 8d                               cmp #$8d
0100aa d0 55                               bne +85               ; IF100a8_end [10101]
0100ac a5 85                               lda $85               ; EDITING
0100ae                                 ;; IF != {
0100ae f0 13                               beq +19               ; IF100ae_else [100c3]
0100b0 4f 20 71 05 01                      jsr.a24 $010571       ; storeNewValue
0100b5 4f 20 c6 03 01                      jsr.a24 $0103c6       ; endEditing
0100ba 4f 20 4d 05 01                      jsr.a24 $01054d       ; hideEditCursor
0100bf                                 ;; CONTINUE
0100bf 80 af                               bra -81               ; loop10070_start [10070]
0100c1 80 3a                               bra +58               ; IF100ae_end [100fd]
0100c3                 IF100ae_else:
0100c3                                 ;; ELSE
0100c3 ad 01 ff                            lda $ff01             ; TXTPOS
0100c6 c9 02                               cmp #$2
0100c8                                 ;; IF == {
0100c8 d0 09                               bne +9                ; IF100c8_else [100d3]
0100ca 4f 20 4e 03 01                      jsr.a24 $01034e       ; startEditing
0100cf                                 ;; CONTINUE
0100cf 80 9f                               bra -97               ; loop10070_start [10070]
0100d1 80 2a                               bra +42               ; IF100c8_end [100fd]
0100d3                 IF100c8_else:
0100d3                                 ;; ELSE
0100d3 4f 5c 1a 00 ff                      jsr.a24 ($ff001a)     ; os4_ClearCursor
0100d8 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
0100dd 4f 20 c9 09 01                      jsr.a24 $0109c9       ; CurrentToPrevInputBuffer
0100e2 9c ff d0                            stz $d0ff
0100e5 4f 20 c0 08 01                      jsr.a24 $0108c0       ; CommandLine
0100ea 8d ff d0                            sta $d0ff
0100ed 4f 20 a6 09 01                      jsr.a24 $0109a6       ; ClearCurrentInputBuffer
0100f2 ad ff d0                            lda $d0ff
0100f5                                 ;; IF == 255 {
0100f5 c9 ff                               cmp #$ff
0100f7 d0 04                               bne +4                ; IF100f5_end [100fd]
0100f9 a9 00                               lda #$0
0100fb 4f 60                               rts.a24
0100fd                 IF100f5_end:
0100fd                 IF100c8_end:
0100fd                 IF100ae_end:
0100fd                                 ;; CONTINUE
0100fd 4f 80 6f ff                         bra.a24 -145          ; loop10070_start [10070]
010101                 IF100a8_end:
010101                                 ;; IF == 255 {
010101 c9 ff                               cmp #$ff
010103 d0 45                               bne +69               ; IF10101_end [1014a]
010105 a5 85                               lda $85               ; EDITING
010107                                 ;; IF != {
010107 f0 19                               beq +25               ; IF10107_else [10122]
010109 a5 8d                               lda $8d               ; NEWVALUEL
01010b                                 ;; IF != {
01010b f0 04                               beq +4                ; IF1010b_else [10111]
01010d 64 8d                               stz $8d               ; NEWVALUEL
01010f 80 06                               bra +6                ; IF1010b_end [10117]
010111                 IF1010b_else:
010111                                 ;; ELSE
010111 a5 8c                               lda $8c               ; NEWVALUEH
010113                                 ;; IF != {
010113 f0 02                               beq +2                ; IF10113_end [10117]
010115 64 8c                               stz $8c               ; NEWVALUEH
010117                 IF10113_end:
010117                 IF1010b_end:
010117 4f 20 21 05 01                      jsr.a24 $010521       ; showEditCursor
01011c                                 ;; CONTINUE
01011c 4f 80 50 ff                         bra.a24 -176          ; loop10070_start [10070]
010120 80 28                               bra +40               ; IF10107_end [1014a]
010122                 IF10107_else:
010122                                 ;; ELSE
010122 ad 01 ff                            lda $ff01             ; TXTPOS
010125                                 ;; IF > 2 {
010125 c9 02                               cmp #$2
010127 f0 1d                               beq +29               ; IF10125_end [10146]
010129 90 1b                               bcc +27               ; IF10125_end [10146]
01012b 4f 5c 1a 00 ff                      jsr.a24 ($ff001a)     ; os4_ClearCursor
010130 a9 a0                               lda #$a0
010132 ac 01 ff                            ldy $ff01             ; TXTPOS
010135 88                                  dey
010136 91 fe                               sta ($fe),Y           ; TXTPTR
010138 88                                  dey
010139 a9 00                               lda #$0
01013b 99 00 01                            sta $0100,Y           ; INPBUFFER
01013e ce 01 ff                            dec $ff01             ; TXTPOS
010141 4f 5c 17 00 ff                      jsr.a24 ($ff0017)     ; os4_PrintCursor
010146                 IF10125_end:
010146                                 ;; CONTINUE
010146 4f 80 26 ff                         bra.a24 -218          ; loop10070_start [10070]
01014a                 IF10107_end:
01014a                 IF10101_end:
01014a                                 ;; IF == 137 {
01014a c9 89                               cmp #$89
01014c d0 12                               bne +18               ; IF1014a_end [10160]
01014e a5 85                               lda $85               ; EDITING
010150                                 ;; IF != {
010150 f0 05                               beq +5                ; IF10150_end [10157]
010152 4f 20 94 03 01                      jsr.a24 $010394       ; cancelEditing
010157                 IF10150_end:
010157 4f 20 2f 09 01                      jsr.a24 $01092f       ; CompleteCommand
01015c                                 ;; CONTINUE
01015c 4f 80 10 ff                         bra.a24 -240          ; loop10070_start [10070]
010160                 IF1014a_end:
010160                                 ;; IF == 154 {
010160 c9 9a                               cmp #$9a
010162 d0 1c                               bne +28               ; IF10160_end [10180]
010164 a5 85                               lda $85               ; EDITING
010166                                 ;; IF != {
010166 f0 05                               beq +5                ; IF10166_end [1016d]
010168 4f 20 94 03 01                      jsr.a24 $010394       ; cancelEditing
01016d                 IF10166_end:
01016d 4f 20 b4 09 01                      jsr.a24 $0109b4       ; PrevToCurrentInputBuffer
010172 4f 20 de 09 01                      jsr.a24 $0109de       ; InputBufferToTextScreen
010177 4f 5c 17 00 ff                      jsr.a24 ($ff0017)     ; os4_PrintCursor
01017c                                 ;; CONTINUE
01017c 4f 80 f0 fe                         bra.a24 -272          ; loop10070_start [10070]
010180                 IF10160_end:
010180                                 ;; IF == 155 {
010180 c9 9b                               cmp #$9b
010182 d0 16                               bne +22               ; IF10180_end [1019a]
010184 ad 03 ff                            lda $ff03             ; DISPMODE
010187 c9 00                               cmp #$0               ; DISP_TEXT_1
010189                                 ;; IF == {
010189 d0 04                               bne +4                ; IF10189_else [1018f]
01018b a9 80                               lda #$80              ; DISP_TEXT_2
01018d 80 02                               bra +2                ; IF10189_end [10191]
01018f                 IF10189_else:
01018f                                 ;; ELSE
01018f a9 00                               lda #$0               ; DISP_TEXT_1
010191                 IF10189_end:
010191 4f 5c 08 00 ff                      jsr.a24 ($ff0008)     ; os4_SetScreenMode
010196                                 ;; CONTINUE
010196 4f 80 d6 fe                         bra.a24 -298          ; loop10070_start [10070]
01019a                 IF10180_end:
01019a                                 ;; IF == 136 {
01019a c9 88                               cmp #$88
01019c d0 22                               bne +34               ; IF1019a_end [101c0]
01019e a5 85                               lda $85               ; EDITING
0101a0                                 ;; IF != {
0101a0 f0 05                               beq +5                ; IF101a0_end [101a7]
0101a2 4f 20 94 03 01                      jsr.a24 $010394       ; cancelEditing
0101a7                 IF101a0_end:
0101a7 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
0101ac a5 82                               lda $82               ; CURSORX
0101ae c9 00                               cmp #$0
0101b0                                 ;; IF > {
0101b0 f0 05                               beq +5                ; IF101b0_end [101b7]
0101b2 90 03                               bcc +3                ; IF101b0_end [101b7]
0101b4 3a                                  dec
0101b5 85 82                               sta $82               ; CURSORX
0101b7                 IF101b0_end:
0101b7 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
0101bc                                 ;; CONTINUE
0101bc 4f 80 b0 fe                         bra.a24 -336          ; loop10070_start [10070]
0101c0                 IF1019a_end:
0101c0                                 ;; IF == 149 {
0101c0 c9 95                               cmp #$95
0101c2 d0 20                               bne +32               ; IF101c0_end [101e4]
0101c4 a5 85                               lda $85               ; EDITING
0101c6                                 ;; IF != {
0101c6 f0 05                               beq +5                ; IF101c6_end [101cd]
0101c8 4f 20 94 03 01                      jsr.a24 $010394       ; cancelEditing
0101cd                 IF101c6_end:
0101cd 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
0101d2 a5 82                               lda $82               ; CURSORX
0101d4 c9 07                               cmp #$7
0101d6                                 ;; IF < {
0101d6 b0 03                               bcs +3                ; IF101d6_end [101db]
0101d8 1a                                  inc
0101d9 85 82                               sta $82               ; CURSORX
0101db                 IF101d6_end:
0101db 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
0101e0                                 ;; CONTINUE
0101e0 4f 80 8c fe                         bra.a24 -372          ; loop10070_start [10070]
0101e4                 IF101c0_end:
0101e4                                 ;; IF == 139 {
0101e4 c9 8b                               cmp #$8b
0101e6 d0 3a                               bne +58               ; IF101e4_end [10222]
0101e8 a5 85                               lda $85               ; EDITING
0101ea                                 ;; IF != {
0101ea f0 05                               beq +5                ; IF101ea_end [101f1]
0101ec 4f 20 94 03 01                      jsr.a24 $010394       ; cancelEditing
0101f1                 IF101ea_end:
0101f1 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
0101f6 a5 83                               lda $83               ; CURSORY
0101f8 c9 00                               cmp #$0
0101fa                                 ;; IF == {
0101fa d0 16                               bne +22               ; IF101fa_else [10212]
0101fc 1f a5 86                            lda.w $86             ; VIEWYFROM
0101ff                                 ;; IF > {
0101ff f0 0f                               beq +15               ; IF101ff_end [10210]
010201 90 0d                               bcc +13               ; IF101ff_end [10210]
010203 1f c6 86                            dec.w $86             ; VIEWYFROM
010206 4f 20 35 0a 01                      jsr.a24 $010a35       ; updateViewableRows
01020b 4f 20 ec 03 01                      jsr.a24 $0103ec       ; drawValues
010210                 IF101ff_end:
010210 80 07                               bra +7                ; IF101fa_end [10219]
010212                 IF101fa_else:
010212                                 ;; ELSE
010212                                 ;; IF > {
010212 f0 05                               beq +5                ; IF10212_end [10219]
010214 90 03                               bcc +3                ; IF10212_end [10219]
010216 3a                                  dec
010217 85 83                               sta $83               ; CURSORY
010219                 IF10212_end:
010219                 IF101fa_end:
010219 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
01021e                                 ;; CONTINUE
01021e 4f 80 4e fe                         bra.a24 -434          ; loop10070_start [10070]
010222                 IF101e4_end:
010222                                 ;; IF == 138 {
010222 c9 8a                               cmp #$8a
010224 d0 3e                               bne +62               ; IF10222_end [10264]
010226 a5 85                               lda $85               ; EDITING
010228                                 ;; IF != {
010228 f0 05                               beq +5                ; IF10228_end [1022f]
01022a 4f 20 94 03 01                      jsr.a24 $010394       ; cancelEditing
01022f                 IF10228_end:
01022f 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
010234 a5 83                               lda $83               ; CURSORY
010236                                 ;; IF == 23 {
010236 c9 17                               cmp #$17
010238 d0 19                               bne +25               ; IF10236_else [10253]
01023a 1f a5 88                            lda.w $88             ; VIEWYTO
01023d 1f 1a                               inc.w
01023f 1f c5 91                            cmp.w $91             ; NFILEROWS
010242                                 ;; IF < {
010242 b0 0d                               bcs +13               ; IF10242_end [10251]
010244 1f e6 86                            inc.w $86             ; VIEWYFROM
010247 4f 20 35 0a 01                      jsr.a24 $010a35       ; updateViewableRows
01024c 4f 20 ec 03 01                      jsr.a24 $0103ec       ; drawValues
010251                 IF10242_end:
010251 80 08                               bra +8                ; IF10236_end [1025b]
010253                 IF10236_else:
010253                                 ;; ELSE
010253 1f c5 88                            cmp.w $88             ; VIEWYTO
010256                                 ;; IF < {
010256 b0 03                               bcs +3                ; IF10256_end [1025b]
010258 1a                                  inc
010259 85 83                               sta $83               ; CURSORY
01025b                 IF10256_end:
01025b                 IF10236_end:
01025b 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
010260                                 ;; CONTINUE
010260 4f 80 0c fe                         bra.a24 -500          ; loop10070_start [10070]
010264                 IF10222_end:
010264                                 ;; IF == 171 {
010264 c9 ab                               cmp #$ab
010266 d0 31                               bne +49               ; IF10264_end [10299]
010268 a5 85                               lda $85               ; EDITING
01026a                                 ;; IF != {
01026a f0 05                               beq +5                ; IF1026a_end [10271]
01026c 4f 20 94 03 01                      jsr.a24 $010394       ; cancelEditing
010271                 IF1026a_end:
010271 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
010276 1f a5 86                            lda.w $86             ; VIEWYFROM
010279 18                                  clc
01027a 1f 69 18 00                         adc.w #$18
01027e 1f c5 88                            cmp.w $88             ; VIEWYTO
010281                                 ;; IF < {
010281 b0 0d                               bcs +13               ; IF10281_end [10290]
010283 1f 85 86                            sta.w $86             ; VIEWYFROM
010286 4f 20 35 0a 01                      jsr.a24 $010a35       ; updateViewableRows
01028b 4f 20 ec 03 01                      jsr.a24 $0103ec       ; drawValues
010290                 IF10281_end:
010290 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
010295                                 ;; CONTINUE
010295 4f 80 d7 fd                         bra.a24 -553          ; loop10070_start [10070]
010299                 IF10264_end:
010299                                 ;; IF == 173 {
010299 c9 ad                               cmp #$ad
01029b d0 32                               bne +50               ; IF10299_end [102cf]
01029d a5 85                               lda $85               ; EDITING
01029f                                 ;; IF != {
01029f f0 05                               beq +5                ; IF1029f_end [102a6]
0102a1 4f 20 94 03 01                      jsr.a24 $010394       ; cancelEditing
0102a6                 IF1029f_end:
0102a6 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
0102ab 1f a5 86                            lda.w $86             ; VIEWYFROM
0102ae c9 18                               cmp #$18
0102b0                                 ;; IF > {
0102b0 f0 14                               beq +20               ; IF102b0_end [102c6]
0102b2 90 12                               bcc +18               ; IF102b0_end [102c6]
0102b4 38                                  sec
0102b5 1f e9 18 00                         sbc.w #$18
0102b9 1f 85 86                            sta.w $86             ; VIEWYFROM
0102bc 4f 20 35 0a 01                      jsr.a24 $010a35       ; updateViewableRows
0102c1 4f 20 ec 03 01                      jsr.a24 $0103ec       ; drawValues
0102c6                 IF102b0_end:
0102c6 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
0102cb                                 ;; CONTINUE
0102cb 4f 80 a1 fd                         bra.a24 -607          ; loop10070_start [10070]
0102cf                 IF10299_end:
0102cf                                 ;; IF > 159 {
0102cf c9 9f                               cmp #$9f
0102d1 f0 29                               beq +41               ; IF102cf_end [102fc]
0102d3 90 27                               bcc +39               ; IF102cf_end [102fc]
0102d5 a5 85                               lda $85               ; EDITING
0102d7                                 ;; IF != {
0102d7 f0 07                               beq +7                ; IF102d7_else [102e0]
0102d9 4f 20 00 03 01                      jsr.a24 $010300       ; enterKeyWhileEditing
0102de 80 1c                               bra +28               ; IF102d7_end [102fc]
0102e0                 IF102d7_else:
0102e0                                 ;; ELSE
0102e0 a5 84                               lda $84               ; LASTKEY
0102e2 ac 01 ff                            ldy $ff01             ; TXTPOS
0102e5 4f 5c 11 00 ff                      jsr.a24 ($ff0011)     ; os4_PrintChar
0102ea c0 28                               cpy #$28
0102ec                                 ;; IF < {
0102ec b0 0e                               bcs +14               ; IF102ec_end [102fc]
0102ee a5 84                               lda $84               ; LASTKEY
0102f0 29 7f                               and #$7f
0102f2 88                                  dey
0102f3 88                                  dey
0102f4 99 00 01                            sta $0100,Y           ; INPBUFFER
0102f7 4f 5c 17 00 ff                      jsr.a24 ($ff0017)     ; os4_PrintCursor
0102fc                 IF102ec_end:
0102fc                 IF102d7_end:
0102fc                 IF102cf_end:
0102fc 4f 80 70 fd                         bra.a24 -656          ; LOOP10070_loop [10070]
010300                 LOOP10070_end:

010300 ; SUB enterKeyWhileEditing:
010300 a5 84                               lda $84               ; LASTKEY
010302 c9 30                               cmp #$30
010304                                 ;; IF >= {
010304 90 2d                               bcc +45               ; IF10304_end [10333]
010306 c9 39                               cmp #$39
010308                                 ;; IF <= {
010308 f0 02                               beq +2                ; IF10308_end_eq [1030c]
01030a b0 07                               bcs +7                ; IF10308_else [10313]
01030c                 IF10308_end_eq:
01030c 4f 20 35 03 01                      jsr.a24 $010335       ; processKeyWhileEditing
010311 80 20                               bra +32               ; IF10308_end [10333]
010313                 IF10308_else:
010313                                 ;; ELSE
010313 c9 41                               cmp #$41
010315                                 ;; IF >= {
010315 90 1c                               bcc +28               ; IF10315_end [10333]
010317 c9 46                               cmp #$46
010319                                 ;; IF <= {
010319 f0 02                               beq +2                ; IF10319_end_eq [1031d]
01031b b0 07                               bcs +7                ; IF10319_else [10324]
01031d                 IF10319_end_eq:
01031d 4f 20 35 03 01                      jsr.a24 $010335       ; processKeyWhileEditing
010322 80 0f                               bra +15               ; IF10319_end [10333]
010324                 IF10319_else:
010324                                 ;; ELSE
010324 c9 61                               cmp #$61
010326                                 ;; IF >= {
010326 90 0b                               bcc +11               ; IF10326_end [10333]
010328 c9 66                               cmp #$66
01032a                                 ;; IF <= {
01032a f0 02                               beq +2                ; IF1032a_end_eq [1032e]
01032c b0 05                               bcs +5                ; IF1032a_end [10333]
01032e                 IF1032a_end_eq:
01032e 4f 20 35 03 01                      jsr.a24 $010335       ; processKeyWhileEditing
010333                 IF1032a_end:
010333                 IF10326_end:
010333                 IF10319_end:
010333                 IF10315_end:
010333                 IF10308_end:
010333                 IF10304_end:
010333 4f 60                               rts.a24

010335 ; SUB processKeyWhileEditing:
010335 a5 8c                               lda $8c               ; NEWVALUEH
010337                                 ;; IF == {
010337 d0 06                               bne +6                ; IF10337_else [1033f]
010339 a5 84                               lda $84               ; LASTKEY
01033b 85 8c                               sta $8c               ; NEWVALUEH
01033d 80 08                               bra +8                ; IF10337_end [10347]
01033f                 IF10337_else:
01033f                                 ;; ELSE
01033f a5 8d                               lda $8d               ; NEWVALUEL
010341                                 ;; IF == {
010341 d0 04                               bne +4                ; IF10341_end [10347]
010343 a5 84                               lda $84               ; LASTKEY
010345 85 8d                               sta $8d               ; NEWVALUEL
010347                 IF10341_end:
010347                 IF10337_end:
010347 4f 20 21 05 01                      jsr.a24 $010521       ; showEditCursor
01034c 4f 60                               rts.a24

01034e ; SUB startEditing:
0000b4-0000b5   ; VAR @ROWPTR
01034e ae 00 ff                            ldx $ff00             ; TXTROW
010351 4f 5c 3b 00 ff                      jsr.a24 ($ff003b)     ; os4_ClearRow
010356 9c 01 ff                            stz $ff01             ; TXTPOS
010359 2f a9 39 0b 01                      lda.t #$10b39         ; EditingStr
01035e 2f 8d 00 d7                         sta.t $00d700
010362 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
010367 a6 83                               ldx $83               ; CURSORY
010369 2b                                  xsl
01036a 5f bd 4b 0c 01                      lda.w.a24 $010c4b,X   ; Text2ScreenBase
01036f 1f 85 b4                            sta.w $b4             ; ROWPTR
010372 18                                  clc
010373 a5 82                               lda $82               ; CURSORX
010375 65 82                               adc $82               ; CURSORX
010377 65 82                               adc $82               ; CURSORX
010379 69 06                               adc #$6
01037b a8                                  tay
01037c b1 b4                               lda ($b4),Y           ; ROWPTR
01037e 85 8a                               sta $8a               ; OLDVALUEH
010380 c8                                  iny
010381 b1 b4                               lda ($b4),Y           ; ROWPTR
010383 85 8b                               sta $8b               ; OLDVALUEL
010385 64 8c                               stz $8c               ; NEWVALUEH
010387 64 8d                               stz $8d               ; NEWVALUEL
010389 a9 01                               lda #$1
01038b 85 85                               sta $85               ; EDITING
01038d 4f 20 21 05 01                      jsr.a24 $010521       ; showEditCursor
010392 4f 60                               rts.a24

010394 ; SUB cancelEditing:
0000b4-0000b5   ; VAR @ROWPTR
010394 ae 00 ff                            ldx $ff00             ; TXTROW
010397 4f 5c 3b 00 ff                      jsr.a24 ($ff003b)     ; os4_ClearRow
01039c 9c 01 ff                            stz $ff01             ; TXTPOS
01039f 64 85                               stz $85               ; EDITING
0103a1 4f 20 4d 05 01                      jsr.a24 $01054d       ; hideEditCursor
0103a6 a6 83                               ldx $83               ; CURSORY
0103a8 2b                                  xsl
0103a9 5f bd 4b 0c 01                      lda.w.a24 $010c4b,X   ; Text2ScreenBase
0103ae 1f 85 b4                            sta.w $b4             ; ROWPTR
0103b1 18                                  clc
0103b2 a5 82                               lda $82               ; CURSORX
0103b4 65 82                               adc $82               ; CURSORX
0103b6 65 82                               adc $82               ; CURSORX
0103b8 69 06                               adc #$6
0103ba a8                                  tay
0103bb a5 8a                               lda $8a               ; OLDVALUEH
0103bd 91 b4                               sta ($b4),Y           ; ROWPTR
0103bf c8                                  iny
0103c0 a5 8b                               lda $8b               ; OLDVALUEL
0103c2 91 b4                               sta ($b4),Y           ; ROWPTR
0103c4 4f 60                               rts.a24

0103c6 ; SUB endEditing:
0103c6 a5 8c                               lda $8c               ; NEWVALUEH
0103c8                                 ;; IF == {
0103c8 d0 05                               bne +5                ; IF103c8_end [103cf]
0103ca 4f 4c 94 03 01                      jmp.a24 $010394       ; cancelEditing
0103cf                 IF103c8_end:
0103cf a5 8d                               lda $8d               ; NEWVALUEL
0103d1                                 ;; IF == {
0103d1 d0 05                               bne +5                ; IF103d1_end [103d8]
0103d3 4f 4c 94 03 01                      jmp.a24 $010394       ; cancelEditing
0103d8                 IF103d1_end:
0103d8 ae 00 ff                            ldx $ff00             ; TXTROW
0103db 4f 5c 3b 00 ff                      jsr.a24 ($ff003b)     ; os4_ClearRow
0103e0 9c 01 ff                            stz $ff01             ; TXTPOS
0103e3 64 85                               stz $85               ; EDITING
0103e5 4f 20 4d 05 01                      jsr.a24 $01054d       ; hideEditCursor
0103ea 4f 60                               rts.a24

0103ec ; SUB drawValues:
000040          ; VAR @ROWNUM
000041-000043   ; VAR @FILEPTR
000044-000045   ; VAR @OFFSET
000046          ; VAR @IDX
0103ec 2f ad 13 ff                         lda.t $00ff13         ; HEAPSTART
0103f0 2f 85 41                            sta.t $41             ; FILEPTR
0103f3 1f a5 86                            lda.w $86             ; VIEWYFROM
0103f6 1f 0a                               asl.w
0103f8 1f 0a                               asl.w
0103fa 1f 0a                               asl.w
0103fc 1f 85 44                            sta.w $44             ; OFFSET
0103ff 4f 20 9a 04 01                      jsr.a24 $01049a       ; overwriteScreenBase
010404 64 40                               stz $40               ; ROWNUM
010406                 LOOP10406_start:
010406                                 ;; LOOP {
010406                 LOOP10406_loop:
010406 a9 a4                               lda #$a4
010408 4f 5c 11 00 ff                      jsr.a24 ($ff0011)     ; os4_PrintChar
01040d 2f a5 44                            lda.t $44             ; OFFSET
010410 4f 5c 29 00 ff                      jsr.a24 ($ff0029)     ; os4_PrintHexWord
010415 a9 ad                               lda #$ad
010417 4f 5c 11 00 ff                      jsr.a24 ($ff0011)     ; os4_PrintChar
01041c                 FOR1041c_start:
01041c                                 ;; FOR @IDX = 0 TO 7 {
01041c a2 00                               ldx #$0
01041e 86 46                               stx $46
010420                 FOR1041c_loop:
010420 18                                  clc
010421 1f a5 44                            lda.w $44             ; OFFSET
010424 1f 65 46                            adc.w $46             ; IDX
010427 1f a8                               tay.w
010429 4f b1 41                            lda.a24 ($41),Y       ; FILEPTR
01042c 4f 5c 26 00 ff                      jsr.a24 ($ff0026)     ; os4_PrintHexByte
010431 4f 5c 14 00 ff                      jsr.a24 ($ff0014)     ; os4_PrintSpace
010436 e6 46                               inc $46
010438 a6 46                               ldx $46
01043a e0 08                               cpx #$8
01043c d0 e2                               bne -30               ; FOR1041c_loop [10420]
01043e                 FOR1041c_end:
01043e                 FOR1043e_start:
01043e                                 ;; FOR @IDX = 0 TO 7 {
01043e a2 00                               ldx #$0
010440 86 46                               stx $46
010442                 FOR1043e_loop:
010442 18                                  clc
010443 1f a5 44                            lda.w $44             ; OFFSET
010446 1f 65 46                            adc.w $46             ; IDX
010449 1f a8                               tay.w
01044b 4f b1 41                            lda.a24 ($41),Y       ; FILEPTR
01044e                                 ;; IF < 128 {
01044e c9 80                               cmp #$80
010450 b0 0b                               bcs +11               ; IF1044e_end [1045d]
010452                                 ;; IF == 0 {
010452 c9 00                               cmp #$0
010454 d0 04                               bne +4                ; IF10452_else [1045a]
010456 a9 ae                               lda #$ae
010458 80 03                               bra +3                ; IF10452_end [1045d]
01045a                 IF10452_else:
01045a                                 ;; ELSE
01045a 18                                  clc
01045b 69 80                               adc #$80
01045d                 IF10452_end:
01045d                 IF1044e_end:
01045d 4f 5c 11 00 ff                      jsr.a24 ($ff0011)     ; os4_PrintChar
010462 e6 46                               inc $46
010464 a6 46                               ldx $46
010466 e0 08                               cpx #$8
010468 d0 d8                               bne -40               ; FOR1043e_loop [10442]
01046a                 FOR1043e_end:
01046a 18                                  clc
01046b 1f a5 44                            lda.w $44             ; OFFSET
01046e 1f 69 08 00                         adc.w #$8
010472 1f 85 44                            sta.w $44             ; OFFSET
010475 4f 20 b4 04 01                      jsr.a24 $0104b4       ; nextLineText2
01047a e6 40                               inc $40               ; ROWNUM
01047c a5 40                               lda $40               ; ROWNUM
01047e                                 ;; IF > 11 {
01047e c9 0b                               cmp #$b
010480 f0 03                               beq +3                ; IF1047e_end [10485]
010482 90 01                               bcc +1                ; IF1047e_end [10485]
010484 ea                                  nop
010485                 IF1047e_end:
010485                                 ;; IF > 23 {
010485 c9 17                               cmp #$17
010487 f0 06                               beq +6                ; IF10485_end [1048f]
010489 90 04                               bcc +4                ; IF10485_end [1048f]
01048b                                 ;; BREAK
01048b 4f 80 04 00                         bra.a24 +4            ; loop10406_end [10493]
01048f                 IF10485_end:
01048f 4f 80 73 ff                         bra.a24 -141          ; LOOP10406_loop [10406]
010493                 LOOP10406_end:
010493 4f 20 c8 04 01                      jsr.a24 $0104c8       ; restoreScreenBase
010498 4f 60                               rts.a24

01049a ; SUB overwriteScreenBase:
01049a ad 00 ff                            lda $ff00             ; TXTROW
01049d 85 93                               sta $93               ; SAVEDROW
01049f ad 01 ff                            lda $ff01             ; TXTPOS
0104a2 85 94                               sta $94               ; SAVEDPOS
0104a4 9c 00 ff                            stz $ff00             ; TXTROW
0104a7 9c 01 ff                            stz $ff01             ; TXTPOS
0104aa 5f ad 4b 0c 01                      lda.w.a24 $010c4b     ; Text2ScreenBase
0104af 1f 85 fe                            sta.w $fe             ; TXTPTR
0104b2 4f 60                               rts.a24

0104b4 ; SUB nextLineText2:
0104b4 9c 01 ff                            stz $ff01             ; TXTPOS
0104b7 ee 00 ff                            inc $ff00             ; TXTROW
0104ba ae 00 ff                            ldx $ff00             ; TXTROW
0104bd 2b                                  xsl
0104be 5f bd 4b 0c 01                      lda.w.a24 $010c4b,X   ; Text2ScreenBase
0104c3 1f 85 fe                            sta.w $fe             ; TXTPTR
0104c6 4f 60                               rts.a24

0104c8 ; SUB restoreScreenBase:
0104c8 a5 93                               lda $93               ; SAVEDROW
0104ca 8d 00 ff                            sta $ff00             ; TXTROW
0104cd a5 94                               lda $94               ; SAVEDPOS
0104cf 8d 01 ff                            sta $ff01             ; TXTPOS
0104d2 4f 5c 0b 00 ff                      jsr.a24 ($ff000b)     ; os4_SetScreenBase
0104d7 4f 60                               rts.a24

0104d9 ; SUB drawCursor:
0000b4-0000b5   ; VAR @ROWPTR
0000b3          ; VAR @CURXPOS
0104d9 a6 83                               ldx $83               ; CURSORY
0104db 2b                                  xsl
0104dc 5f bd 4b 0c 01                      lda.w.a24 $010c4b,X   ; Text2ScreenBase
0104e1 1f 85 b4                            sta.w $b4             ; ROWPTR
0104e4 18                                  clc
0104e5 a5 82                               lda $82               ; CURSORX
0104e7 65 82                               adc $82               ; CURSORX
0104e9 65 82                               adc $82               ; CURSORX
0104eb 69 06                               adc #$6
0104ed a8                                  tay
0104ee b1 b4                               lda ($b4),Y           ; ROWPTR
0104f0 29 3f                               and #$3f
0104f2 91 b4                               sta ($b4),Y           ; ROWPTR
0104f4 c8                                  iny
0104f5 b1 b4                               lda ($b4),Y           ; ROWPTR
0104f7 29 3f                               and #$3f
0104f9 91 b4                               sta ($b4),Y           ; ROWPTR
0104fb 4f 60                               rts.a24

0104fd ; SUB hideCursor:
0000b4-0000b5   ; VAR @ROWPTR
0000b3          ; VAR @CURXPOS
0104fd a6 83                               ldx $83               ; CURSORY
0104ff 2b                                  xsl
010500 5f bd 4b 0c 01                      lda.w.a24 $010c4b,X   ; Text2ScreenBase
010505 1f 85 b4                            sta.w $b4             ; ROWPTR
010508 18                                  clc
010509 a5 82                               lda $82               ; CURSORX
01050b 65 82                               adc $82               ; CURSORX
01050d 65 82                               adc $82               ; CURSORX
01050f 69 06                               adc #$6
010511 a8                                  tay
010512 b1 b4                               lda ($b4),Y           ; ROWPTR
010514 09 80                               ora #$80
010516 91 b4                               sta ($b4),Y           ; ROWPTR
010518 c8                                  iny
010519 b1 b4                               lda ($b4),Y           ; ROWPTR
01051b 09 80                               ora #$80
01051d 91 b4                               sta ($b4),Y           ; ROWPTR
01051f 4f 60                               rts.a24

010521 ; SUB showEditCursor:
0000b4-0000b5   ; VAR @ROWPTR
0000b3          ; VAR @CURXPOS
010521 a6 83                               ldx $83               ; CURSORY
010523 2b                                  xsl
010524 5f bd 4b 0c 01                      lda.w.a24 $010c4b,X   ; Text2ScreenBase
010529 1f 85 b4                            sta.w $b4             ; ROWPTR
01052c 18                                  clc
01052d a5 82                               lda $82               ; CURSORX
01052f 65 82                               adc $82               ; CURSORX
010531 65 82                               adc $82               ; CURSORX
010533 69 06                               adc #$6
010535 a8                                  tay
010536 a5 8c                               lda $8c               ; NEWVALUEH
010538                                 ;; IF == {
010538 d0 04                               bne +4                ; IF10538_end [1053e]
01053a a9 2a                               lda #$2a
01053c 29 3f                               and #$3f
01053e                 IF10538_end:
01053e 91 b4                               sta ($b4),Y           ; ROWPTR
010540 c8                                  iny
010541 a5 8d                               lda $8d               ; NEWVALUEL
010543                                 ;; IF == {
010543 d0 04                               bne +4                ; IF10543_end [10549]
010545 a9 2a                               lda #$2a
010547 29 3f                               and #$3f
010549                 IF10543_end:
010549 91 b4                               sta ($b4),Y           ; ROWPTR
01054b 4f 60                               rts.a24

01054d ; SUB hideEditCursor:
0000b4-0000b5   ; VAR @ROWPTR
0000b3          ; VAR @CURXPOS
01054d a6 83                               ldx $83               ; CURSORY
01054f 2b                                  xsl
010550 5f bd 4b 0c 01                      lda.w.a24 $010c4b,X   ; Text2ScreenBase
010555 1f 85 b4                            sta.w $b4             ; ROWPTR
010558 18                                  clc
010559 a5 82                               lda $82               ; CURSORX
01055b 65 82                               adc $82               ; CURSORX
01055d 65 82                               adc $82               ; CURSORX
01055f 69 06                               adc #$6
010561 a8                                  tay
010562 b1 b4                               lda ($b4),Y           ; ROWPTR
010564 09 80                               ora #$80
010566 91 b4                               sta ($b4),Y           ; ROWPTR
010568 c8                                  iny
010569 b1 b4                               lda ($b4),Y           ; ROWPTR
01056b 09 80                               ora #$80
01056d 91 b4                               sta ($b4),Y           ; ROWPTR
01056f 4f 60                               rts.a24

010571 ; SUB storeNewValue:
010571 4f 60                               rts.a24

010573 ; SUB DoHelp:
000004          ; VAR @I
000005          ; VAR @I6
000006          ; VAR @COL
010573 4f 5c 2f 00 ff                      jsr.a24 ($ff002f)     ; os4_ResetPaginate
010578 a9 16                               lda #$16              ; PAGINATE_LINES_PER_PAGE
01057a 8d 00 d7                            sta $d700
01057d 4f 5c 32 00 ff                      jsr.a24 ($ff0032)     ; os4_PaginateLine
010582 2f a9 5b 0b 01                      lda.t #$10b5b         ; HelpUDLRStr
010587 2f 8d 00 d7                         sta.t $00d700
01058b 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
010590 a9 16                               lda #$16              ; PAGINATE_LINES_PER_PAGE
010592 8d 00 d7                            sta $d700
010595 4f 5c 32 00 ff                      jsr.a24 ($ff0032)     ; os4_PaginateLine
01059a 2f a9 7d 0b 01                      lda.t #$10b7d         ; HelpPMStr
01059f 2f 8d 00 d7                         sta.t $00d700
0105a3 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
0105a8 a9 16                               lda #$16              ; PAGINATE_LINES_PER_PAGE
0105aa 8d 00 d7                            sta $d700
0105ad 4f 5c 32 00 ff                      jsr.a24 ($ff0032)     ; os4_PaginateLine
0105b2 2f a9 47 0b 01                      lda.t #$10b47         ; HelpEditStr
0105b7 2f 8d 00 d7                         sta.t $00d700
0105bb 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
0105c0 a9 16                               lda #$16              ; PAGINATE_LINES_PER_PAGE
0105c2 8d 00 d7                            sta $d700
0105c5 4f 5c 32 00 ff                      jsr.a24 ($ff0032)     ; os4_PaginateLine
0105ca 4f 5c 32 00 ff                      jsr.a24 ($ff0032)     ; os4_PaginateLine
0105cf 2f a9 97 0b 01                      lda.t #$10b97         ; HelpListStr
0105d4 2f 8d 00 d7                         sta.t $00d700
0105d8 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
0105dd a9 16                               lda #$16              ; PAGINATE_LINES_PER_PAGE
0105df 8d 00 d7                            sta $d700
0105e2 4f 5c 32 00 ff                      jsr.a24 ($ff0032)     ; os4_PaginateLine
0105e7 4f 5c 32 00 ff                      jsr.a24 ($ff0032)     ; os4_PaginateLine
0105ec                       ;; M@$4 = 1 
0105ec 85 00                               sta $00
0105ee a9 01                               lda #$1
0105f0 85 04                               sta $04
0105f2 a5 00                               lda $00
0105f4                       ;; M@$6 = 0 
0105f4 85 00                               sta $00
0105f6 a9 00                               lda #$0
0105f8 85 06                               sta $06
0105fa a5 00                               lda $00
0105fc                 DO105fc_start:
0105fc                                 ;; DO {
0105fc                 DO105fc_loop:
0105fc 4f 5c 14 00 ff                      jsr.a24 ($ff0014)     ; os4_PrintSpace
010601 a5 04                               lda $04               ; I
010603                       ;; A <<= 2 
010603 0a                                  asl
010604 0a                                  asl
010605 85 05                               sta $05               ; I6
010607 a5 04                               lda $04               ; I
010609                       ;; A <<= 1 
010609 0a                                  asl
01060a 18                                  clc
01060b 65 05                               adc $05               ; I6
01060d 85 05                               sta $05               ; I6
01060f aa                                  tax
010610 6f bd 91 0c 01                      lda.t.a24 $010c91,X   ; CommandList
010615 2f 8d 00 d7                         sta.t $00d700
010619 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
01061e a5 06                               lda $06               ; COL
010620                                 ;; IF == {
010620 d0 13                               bne +19               ; IF10620_else [10635]
010622                       ;; M@$6 = 1 
010622 85 00                               sta $00
010624 a9 01                               lda #$1
010626 85 06                               sta $06
010628 a5 00                               lda $00
01062a                       ;; M@$ff01 = 12 
01062a 85 00                               sta $00
01062c a9 0c                               lda #$c
01062e 8d 01 ff                            sta $ff01
010631 a5 00                               lda $00
010633 80 2b                               bra +43               ; IF10620_end [10660]
010635                 IF10620_else:
010635                                 ;; ELSE
010635                                 ;; IF == 1 {
010635 c9 01                               cmp #$1
010637 d0 11                               bne +17               ; IF10635_end [1064a]
010639                       ;; M@$6 = 2 
010639 85 00                               sta $00
01063b a9 02                               lda #$2
01063d 85 06                               sta $06
01063f a5 00                               lda $00
010641                       ;; M@$ff01 = 24 
010641 85 00                               sta $00
010643 a9 18                               lda #$18
010645 8d 01 ff                            sta $ff01
010648 a5 00                               lda $00
01064a                 IF10635_end:
01064a                                 ;; IF == 2 {
01064a c9 02                               cmp #$2
01064c d0 12                               bne +18               ; IF1064a_end [10660]
01064e                       ;; M@$6 = 0 
01064e 85 00                               sta $00
010650 a9 00                               lda #$0
010652 85 06                               sta $06
010654 a5 00                               lda $00
010656 a9 16                               lda #$16              ; PAGINATE_LINES_PER_PAGE
010658 8d 00 d7                            sta $d700
01065b 4f 5c 32 00 ff                      jsr.a24 ($ff0032)     ; os4_PaginateLine
010660                 IF1064a_end:
010660                 IF10620_end:
010660 e6 04                               inc $04               ; I
010662 a5 04                               lda $04               ; I
010664                                 ;; WHILE < 6
010664 c9 06                               cmp #$6
010666 b0 02                               bcs +2                ; DO105fc_end [1066a]
010668 80 92                               bra -110              ; DO105fc_loop [105fc]
01066a                 DO105fc_end:
01066a 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
01066f 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
010674 a9 00                               lda #$0
010676 4f 60                               rts.a24

010678 ; SUB DoLoad:
00d000          ; VAR @NPRM
00d001          ; VAR @CMD
00d004          ; VAR @FILENAME
000003          ; VAR @FN
000004-000006   ; VAR @R_IDX
000007-000008   ; VAR @ACTUAL
000009-00000a   ; VAR @C_IDX
010678 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
01067d ad 00 d0                            lda $d000             ; NPRM
010680                                 ;; IF < 1 {
010680 c9 01                               cmp #$1
010682 b0 10                               bcs +16               ; IF10680_end [10694]
010684 2f a9 db 0b 01                      lda.t #$10bdb         ; NoFilenameErrStr
010689 2f 8d 00 d7                         sta.t $00d700
01068d 4f 5c 20 00 ff                      jsr.a24 ($ff0020)     ; os4_PrintError
010692 4f 60                               rts.a24
010694                 IF10680_end:
010694 2f ad 04 d0                         lda.t $00d004         ; FILENAME
010698                                 ;; IF == {
010698 d0 0d                               bne +13               ; IF10698_end [106a7]
01069a 2f a9                               lda.t #$10bdb         ; NoFilenameErrStr
01069c 2f 8d 00 d7                         sta.t $00d700
0106a0 4f 5c 20 00 ff                      jsr.a24 ($ff0020)     ; os4_PrintError
0106a5 4f 60                               rts.a24
0106a7                 IF10698_end:
0106a7 2f 8d 00 d6                         sta.t $00d600
0106ab 4f 5c 0c 01 ff                      jsr.a24 ($ff010c)     ; os4_Disk4Open
0106b0                                 ;; IF != {
0106b0 f0 07                               beq +7                ; IF106b0_end [106b9]
0106b2 4f 5c 1b 01 ff                      jsr.a24 ($ff011b)     ; os4_Disk4PrintError
0106b7 4f 60                               rts.a24
0106b9                 IF106b0_end:
0106b9 86 03                               stx $03               ; FN
0106bb 8e f1 c0                            stx $c0f1             ; DISK4_PARAM0
0106be 2f 64 04                            stz.t $04             ; R_IDX
0106c1                 LOOP106c1_start:
0106c1                                 ;; LOOP {
0106c1                 LOOP106c1_loop:
0106c1 4f 5c 12 01 ff                      jsr.a24 ($ff0112)     ; os4_Disk4Read
0106c6                                 ;; IF == 2 {
0106c6 c9 02                               cmp #$2
0106c8 d0 04                               bne +4                ; IF106c6_end [106ce]
0106ca                                 ;; BREAK
0106ca 4f 80 38 00                         bra.a24 +56           ; loop106c1_end [10706]
0106ce                 IF106c6_end:
0106ce 2f ad f7 c0                         lda.t $00c0f7         ; DISK4_RET0
0106d2                                 ;; IF == {
0106d2 d0 04                               bne +4                ; IF106d2_end [106d8]
0106d4                                 ;; BREAK
0106d4 4f 80 2e 00                         bra.a24 +46           ; loop106c1_end [10706]
0106d8                 IF106d2_end:
0106d8 1f 85 07                            sta.w $07             ; ACTUAL
0106db 1f 64 09                            stz.w $09             ; C_IDX
0106de                 LOOP106de_start:
0106de                                 ;; LOOP {
0106de                 LOOP106de_loop:
0106de 1f a2 00 c8                         ldx.w #$c800          ; DISK4_RAM
0106e2 1f a4 09                            ldy.w $09             ; C_IDX
0106e5 4f ab                               lda.a24 XY
0106e7 2f e6 09                            inc.t $09             ; C_IDX
0106ea 2f ae 13 ff                         ldx.t $00ff13         ; HEAPSTART
0106ee 2f a4 04                            ldy.t $04             ; R_IDX
0106f1 4f bb                               sta.a24 XY
0106f3 2f e6 04                            inc.t $04             ; R_IDX
0106f6 1f a4 09                            ldy.w $09             ; C_IDX
0106f9 1f c4 07                            cpy.w $07             ; ACTUAL
0106fc                                 ;; IF == {
0106fc d0 04                               bne +4                ; IF106fc_end [10702]
0106fe                                 ;; BREAK
0106fe 4f 80 02 00                         bra.a24 +2            ; loop106de_end [10704]
010702                 IF106fc_end:
010702 80 da                               bra -38               ; LOOP106de_loop [106de]
010704                 LOOP106de_end:
010704 80 bb                               bra -69               ; LOOP106c1_loop [106c1]
010706                 LOOP106c1_end:
010706 1f a5 07                            lda.w $07             ; ACTUAL
010709 1f 85 8e                            sta.w $8e             ; FILESIZE
01070c 4f 20 0b 0a 01                      jsr.a24 $010a0b       ; calculateRows
010711 a5 03                               lda $03               ; FN
010713 4f 5c 0f 01 ff                      jsr.a24 ($ff010f)     ; os4_Disk4Close
010718 2f a9 ab 0b 01                      lda.t #$10bab         ; LoadedStr
01071d 2f 8d 00 d7                         sta.t $00d700
010721 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
010726 2f ad 04 d0                         lda.t $00d004         ; FILENAME
01072a 2f 8d 00 d7                         sta.t $00d700
01072e 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
010733 4f 5c 14 00 ff                      jsr.a24 ($ff0014)     ; os4_PrintSpace
010738 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
01073d 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
010742 4f 60                               rts.a24

010744 ; SUB DoStore:
00d000          ; VAR @NPRM
00d001          ; VAR @CMD
00d004          ; VAR @FILENAME
000003          ; VAR @FN
000004-000005   ; VAR @REMAINING
000007-000009   ; VAR @W_IDX
00000a-00000c   ; VAR @C_IDX
010744 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
010749 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
01074e ad 00 d0                            lda $d000             ; NPRM
010751                                 ;; IF < 1 {
010751 c9 01                               cmp #$1
010753 b0 10                               bcs +16               ; IF10751_end [10765]
010755 2f a9 db 0b 01                      lda.t #$10bdb         ; NoFilenameErrStr
01075a 2f 8d 00 d7                         sta.t $00d700
01075e 4f 5c 20 00 ff                      jsr.a24 ($ff0020)     ; os4_PrintError
010763 4f 60                               rts.a24
010765                 IF10751_end:
010765 2f ad 04 d0                         lda.t $00d004         ; FILENAME
010769                                 ;; IF == {
010769 d0 0d                               bne +13               ; IF10769_end [10778]
01076b 2f a9                               lda.t #$10bdb         ; NoFilenameErrStr
01076d 2f 8d 00 d7                         sta.t $00d700
010771 4f 5c 20 00 ff                      jsr.a24 ($ff0020)     ; os4_PrintError
010776 4f 60                               rts.a24
010778                 IF10769_end:
010778 2f 8d 00 d6                         sta.t $00d600
01077c 2f a9 bd 0b 01                      lda.t #$10bbd         ; BINFileType
010781 2f 8d 03 d6                         sta.t $00d603
010785 4f 5c 09 01 ff                      jsr.a24 ($ff0109)     ; os4_Disk4Create
01078a                                 ;; IF != {
01078a f0 07                               beq +7                ; IF1078a_end [10793]
01078c 4f 5c 1b 01 ff                      jsr.a24 ($ff011b)     ; os4_Disk4PrintError
010791 4f 60                               rts.a24
010793                 IF1078a_end:
010793 86 03                               stx $03               ; FN
010795 8e f1 c0                            stx $c0f1             ; DISK4_PARAM0
010798 1f a5 8e                            lda.w $8e             ; FILESIZE
01079b 1f 85 04                            sta.w $04             ; REMAINING
01079e 2f 64 07                            stz.t $07             ; W_IDX
0107a1                 LOOP107a1_start:
0107a1                                 ;; LOOP {
0107a1                 LOOP107a1_loop:
0107a1 4f 5c 18 01 ff                      jsr.a24 ($ff0118)     ; os4_Disk4C800
0107a6 2f 64 0a                            stz.t $0a             ; C_IDX
0107a9                 LOOP107a9_start:
0107a9                                 ;; LOOP {
0107a9                 LOOP107a9_loop:
0107a9 2f ae 13 ff                         ldx.t $00ff13         ; HEAPSTART
0107ad 2f a4 07                            ldy.t $07             ; W_IDX
0107b0 4f ab                               lda.a24 XY
0107b2 2f e6 07                            inc.t $07             ; W_IDX
0107b5 1f a2 00 c8                         ldx.w #$c800          ; DISK4_RAM
0107b9 2f a4 0a                            ldy.t $0a             ; C_IDX
0107bc 4f bb                               sta.a24 XY
0107be 2f e6 0a                            inc.t $0a             ; C_IDX
0107c1 2f a5 0a                            lda.t $0a             ; C_IDX
0107c4 2f c5 04                            cmp.t $04             ; REMAINING
0107c7                                 ;; IF == {
0107c7 d0 04                               bne +4                ; IF107c7_end [107cd]
0107c9                                 ;; BREAK
0107c9 4f 80 0d 00                         bra.a24 +13           ; loop107a9_end [107da]
0107cd                 IF107c7_end:
0107cd 2f c9 00 04 00                      cmp.t #$400
0107d2                                 ;; IF == {
0107d2 d0 04                               bne +4                ; IF107d2_end [107d8]
0107d4                                 ;; BREAK
0107d4 4f 80 02 00                         bra.a24 +2            ; loop107a9_end [107da]
0107d8                 IF107d2_end:
0107d8 80 cf                               bra -49               ; LOOP107a9_loop [107a9]
0107da                 LOOP107a9_end:
0107da 2f 8d f4 c0                         sta.t $00c0f4         ; DISK4_PARAM1
0107de 2f a5 04                            lda.t $04             ; REMAINING
0107e1 38                                  sec
0107e2 e5 0a                               sbc $0a               ; C_IDX
0107e4 1f 85 04                            sta.w $04             ; REMAINING
0107e7 4f 5c 15 01 ff                      jsr.a24 ($ff0115)     ; os4_Disk4Write
0107ec                                 ;; IF != {
0107ec f0 09                               beq +9                ; IF107ec_end [107f7]
0107ee 4f 5c 1b 01 ff                      jsr.a24 ($ff011b)     ; os4_Disk4PrintError
0107f3                                 ;; BREAK
0107f3 4f 80 0b 00                         bra.a24 +11           ; loop107a1_end [10802]
0107f7                 IF107ec_end:
0107f7 2f a5 04                            lda.t $04             ; REMAINING
0107fa                                 ;; IF == {
0107fa d0 04                               bne +4                ; IF107fa_end [10800]
0107fc                                 ;; BREAK
0107fc 4f 80 02 00                         bra.a24 +2            ; loop107a1_end [10802]
010800                 IF107fa_end:
010800 80 9f                               bra -97               ; LOOP107a1_loop [107a1]
010802                 LOOP107a1_end:
010802 a5 03                               lda $03               ; FN
010804 4f 5c 0f 01 ff                      jsr.a24 ($ff010f)     ; os4_Disk4Close
010809 2f a9 b4 0b 01                      lda.t #$10bb4         ; StoredStr
01080e 2f 8d 00 d7                         sta.t $00d700
010812 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
010817 2f ad 04 d0                         lda.t $00d004         ; FILENAME
01081b 2f 8d 00 d7                         sta.t $00d700
01081f 4f 5c 1d 00 ff                      jsr.a24 ($ff001d)     ; os4_PrintString
010824 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
010829 4f 5c 35 00 ff                      jsr.a24 ($ff0035)     ; os4_NextLine
01082e 4f 60                               rts.a24

010830 ; SUB DoX:
00d000          ; VAR @NPRM
00d001          ; VAR @CMD
00d004          ; VAR @XPOS
010830 ad 00 d0                            lda $d000             ; NPRM
010833                                 ;; IF < 1 {
010833 c9 01                               cmp #$1
010835 b0 10                               bcs +16               ; IF10833_end [10847]
010837 2f a9 f9 0b 01                      lda.t #$10bf9         ; MissingValueErr
01083c 2f 8d 00 d7                         sta.t $00d700
010840 4f 5c 20 00 ff                      jsr.a24 ($ff0020)     ; os4_PrintError
010845 4f 60                               rts.a24
010847                 IF10833_end:
010847 2f ad 04 d0                         lda.t $00d004         ; XPOS
01084b 2f 8d 00 d7                         sta.t $00d700
01084f 4f 5c 59 00 ff                      jsr.a24 ($ff0059)     ; os4_ParseNumber
010854 c9 07                               cmp #$7
010856                                 ;; IF > {
010856 f0 04                               beq +4                ; IF10856_end [1085c]
010858 90 02                               bcc +2                ; IF10856_end [1085c]
01085a a9 07                               lda #$7
01085c                 IF10856_end:
01085c 8d 04 d0                            sta $d004             ; XPOS
01085f 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
010864 ad 04 d0                            lda $d004             ; XPOS
010867 85 82                               sta $82               ; CURSORX
010869 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
01086e a9 00                               lda #$0
010870 4f 60                               rts.a24

010872 ; SUB DoY:
00d000          ; VAR @NPRM
00d001          ; VAR @CMD
00d004          ; VAR @YPOS
010872 ad 00 d0                            lda $d000             ; NPRM
010875                                 ;; IF < 1 {
010875 c9 01                               cmp #$1
010877 b0 10                               bcs +16               ; IF10875_end [10889]
010879 2f a9 f9 0b 01                      lda.t #$10bf9         ; MissingValueErr
01087e 2f 8d 00 d7                         sta.t $00d700
010882 4f 5c 20 00 ff                      jsr.a24 ($ff0020)     ; os4_PrintError
010887 4f 60                               rts.a24
010889                 IF10875_end:
010889 2f ad 04 d0                         lda.t $00d004         ; YPOS
01088d 2f 8d 00 d7                         sta.t $00d700
010891 4f 5c 59 00 ff                      jsr.a24 ($ff0059)     ; os4_ParseNumber
010896 c5 91                               cmp $91               ; NFILEROWS
010898                                 ;; IF >= {
010898 90 05                               bcc +5                ; IF10898_end [1089f]
01089a 1f a5 91                            lda.w $91             ; NFILEROWS
01089d 1f 3a                               dec.w
01089f                 IF10898_end:
01089f 8d 04 d0                            sta $d004             ; YPOS
0108a2 4f 20 fd 04 01                      jsr.a24 $0104fd       ; hideCursor
0108a7 ad 04 d0                            lda $d004             ; YPOS
0108aa 85 83                               sta $83               ; CURSORY
0108ac 4f 20 d9 04 01                      jsr.a24 $0104d9       ; drawCursor
0108b1 a9 00                               lda #$0
0108b3 4f 60                               rts.a24

0108b5 ; SUB DoQuit:
0108b5 a9 00                               lda #$0               ; DISP_TEXT_1
0108b7 4f 5c 08 00 ff                      jsr.a24 ($ff0008)     ; os4_SetScreenMode
0108bc a9 ff                               lda #$ff
0108be 4f 60                               rts.a24

0108c0 ; SUB CommandLine:
000004          ; VAR @I
000005          ; VAR @I6
0108c0 ad 00 01                            lda $0100             ; INPBUFFER
0108c3                                 ;; IF == {
0108c3 d0 02                               bne +2                ; IF108c3_end [108c7]
0108c5 4f 60                               rts.a24
0108c7                 IF108c3_end:
0108c7 2f a9 00 01 00                      lda.t #$100           ; INPBUFFER
0108cc 2f 8d 00 d7                         sta.t $00d700
0108d0 4f 5c 56 00 ff                      jsr.a24 ($ff0056)     ; os4_ParseInputParams
0108d5 2f ad 01 d0                         lda.t $00d001
0108d9 2f 8d 00 d7                         sta.t $00d700
0108dd                 FOR108dd_start:
0108dd                                 ;; FOR @I = 0 TO 5 {
0108dd a2 00                               ldx #$0
0108df 86 04                               stx $04
0108e1                 FOR108dd_loop:
0108e1 a5 04                               lda $04               ; I
0108e3                       ;; A <<= 2 
0108e3 0a                                  asl
0108e4 0a                                  asl
0108e5 85 05                               sta $05               ; I6
0108e7 a5 04                               lda $04               ; I
0108e9                       ;; A <<= 1 
0108e9 0a                                  asl
0108ea 18                                  clc
0108eb 65 05                               adc $05               ; I6
0108ed 85 05                               sta $05               ; I6
0108ef aa                                  tax
0108f0 6f bd 91 0c 01                      lda.t.a24 $010c91,X   ; CommandList
0108f5 2f 8d 03 d7                         sta.t $00d703
0108f9 4f 5c 4a 00 ff                      jsr.a24 ($ff004a)     ; os4_CompareText
0108fe                                 ;; IF - {
0108fe 10 14                               bpl +20               ; IF108fe_end [10914]
010900 a6 05                               ldx $05               ; I6
010902 6f bd 94 0c 01                      lda.t.a24 $010c94,X   ; CommandList
010907 2f 85 00                            sta.t $00
01090a 4f 5c 00 00 00                      jsr.a24 ($00)
01090f 8d ff d0                            sta $d0ff
010912 4f 60                               rts.a24
010914                 IF108fe_end:
010914 e6 04                               inc $04
010916 a6 04                               ldx $04
010918 e0 06                               cpx #$6
01091a d0 c5                               bne -59               ; FOR108dd_loop [108e1]
01091c                 FOR108dd_end:
01091c 2f a9 c1 0b 01                      lda.t #$10bc1         ; UnknownCommandErr
010921 2f 8d 00 d7                         sta.t $00d700
010925 4f 5c 20 00 ff                      jsr.a24 ($ff0020)     ; os4_PrintError
01092a 9c ff d0                            stz $d0ff
01092d 4f 60                               rts.a24

01092f ; SUB CompleteCommand:
000004          ; VAR @I
000005          ; VAR @I6
01092f 1f a9 00 01                         lda.w #$100           ; INPBUFFER
010933 2f 8d 00 d7                         sta.t $00d700
010937                 FOR10937_start:
010937                                 ;; FOR @I = 0 TO 5 {
010937 a2 00                               ldx #$0
010939 86 04                               stx $04
01093b                 FOR10937_loop:
01093b a5 04                               lda $04               ; I
01093d                       ;; A <<= 2 
01093d 0a                                  asl
01093e 0a                                  asl
01093f 85 05                               sta $05               ; I6
010941 a5 04                               lda $04               ; I
010943                       ;; A <<= 1 
010943 0a                                  asl
010944 18                                  clc
010945 65 05                               adc $05               ; I6
010947 85 05                               sta $05               ; I6
010949 aa                                  tax
01094a 6f bd 91 0c 01                      lda.t.a24 $010c91,X   ; CommandList
01094f 2f 8d 03 d7                         sta.t $00d703
010953 4f 5c 4d 00 ff                      jsr.a24 ($ff004d)     ; os4_CompareStartOfText
010958                                 ;; IF - {
010958 10 34                               bpl +52               ; IF10958_end [1098e]
01095a a6 05                               ldx $05               ; I6
01095c 6f bd 91 0c 01                      lda.t.a24 $010c91,X   ; CommandList
010961 2f 8d 00 d7                         sta.t $00d700
010965 1f a9 00 01                         lda.w #$100           ; INPBUFFER
010969 2f 8d 03 d7                         sta.t $00d703
01096d 4f 5c 50 00 ff                      jsr.a24 ($ff0050)     ; os4_CopyString
010972 1f a5 fe                            lda.w $fe             ; TXTPTR
010975 1f 1a                               inc.w
010977 1f 1a                               inc.w
010979 2f 8d 03 d7                         sta.t $00d703
01097d 4f 5c 53 00 ff                      jsr.a24 ($ff0053)     ; os4_CopyStringHigh
010982 c8                                  iny
010983 c8                                  iny
010984 8c 01 ff                            sty $ff01             ; TXTPOS
010987 4f 5c 17 00 ff                      jsr.a24 ($ff0017)     ; os4_PrintCursor
01098c 4f 60                               rts.a24
01098e                 IF10958_end:
01098e e6 04                               inc $04
010990 a6 04                               ldx $04
010992 e0 06                               cpx #$6
010994 d0 a5                               bne -91               ; FOR10937_loop [1093b]
010996                 FOR10937_end:
010996 4f 60                               rts.a24

010998 ; SUB ClearInputBuffers:
010998 a9 00                               lda #$0
01099a                 FOR1099a_start:
01099a                                 ;; FOR X = 0 TO 255 {
01099a a2 00                               ldx #$0
01099c                 FOR1099a_loop:
01099c 9d 00 01                            sta $0100,X           ; INPBUFFER
01099f e8                                  inx
0109a0 e0 00                               cpx #$100
0109a2 d0 f8                               bne -8                ; FOR1099a_loop [1099c]
0109a4                 FOR1099a_end:
0109a4 4f 60                               rts.a24

0109a6 ; SUB ClearCurrentInputBuffer:
0109a6 a9 00                               lda #$0
0109a8                 FOR109a8_start:
0109a8                                 ;; FOR X = 0 TO 79 {
0109a8 a2 00                               ldx #$0
0109aa                 FOR109a8_loop:
0109aa 9d 00 01                            sta $0100,X           ; INPBUFFER
0109ad e8                                  inx
0109ae e0 50                               cpx #$50
0109b0 d0 f8                               bne -8                ; FOR109a8_loop [109aa]
0109b2                 FOR109a8_end:
0109b2 4f 60                               rts.a24

0109b4 ; SUB PrevToCurrentInputBuffer:
0109b4                 FOR109b4_start:
0109b4                                 ;; FOR X = 0 TO 79 {
0109b4 a2 00                               ldx #$0
0109b6                 FOR109b4_loop:
0109b6 bd 50 01                            lda $0150,X           ; INPBUFFER2
0109b9 9d 00 01                            sta $0100,X           ; INPBUFFER
0109bc bd a0 01                            lda $01a0,X           ; INPBUFFER3
0109bf 9d 50 01                            sta $0150,X           ; INPBUFFER2
0109c2 e8                                  inx
0109c3 e0 50                               cpx #$50
0109c5 d0 ef                               bne -17               ; FOR109b4_loop [109b6]
0109c7                 FOR109b4_end:
0109c7 4f 60                               rts.a24

0109c9 ; SUB CurrentToPrevInputBuffer:
0109c9                 FOR109c9_start:
0109c9                                 ;; FOR X = 0 TO 79 {
0109c9 a2 00                               ldx #$0
0109cb                 FOR109c9_loop:
0109cb bd 50 01                            lda $0150,X           ; INPBUFFER2
0109ce 9d a0 01                            sta $01a0,X           ; INPBUFFER3
0109d1 bd 00 01                            lda $0100,X           ; INPBUFFER
0109d4 9d 50 01                            sta $0150,X           ; INPBUFFER2
0109d7 e8                                  inx
0109d8 e0 50                               cpx #$50
0109da d0 ef                               bne -17               ; FOR109c9_loop [109cb]
0109dc                 FOR109c9_end:
0109dc 4f 60                               rts.a24

0109de ; SUB InputBufferToTextScreen:
0109de a0 03                               ldy #$3
0109e0                 FOR109e0_start:
0109e0                                 ;; FOR X = 0 TO 79 {
0109e0 a2 00                               ldx #$0
0109e2                 FOR109e0_loop:
0109e2 bd 00 01                            lda $0100,X           ; INPBUFFER
0109e5                                 ;; IF == 0 {
0109e5 c9 00                               cmp #$0
0109e7 d0 07                               bne +7                ; IF109e5_end [109f0]
0109e9 8c 01 ff                            sty $ff01             ; TXTPOS
0109ec                                 ;; BREAK
0109ec 4f 80 0a 00                         bra.a24 +10           ; for109e0_end [109fa]
0109f0                 IF109e5_end:
0109f0 09 80                               ora #$80
0109f2 91 fe                               sta ($fe),Y           ; TXTPTR
0109f4 c8                                  iny
0109f5 e8                                  inx
0109f6 e0 50                               cpx #$50
0109f8 d0 e8                               bne -24               ; FOR109e0_loop [109e2]
0109fa                 FOR109e0_end:
0109fa a9 a0                               lda #$a0
0109fc                 LOOP109fc_start:
0109fc                                 ;; LOOP {
0109fc                 LOOP109fc_loop:
0109fc c0 28                               cpy #$28
0109fe                                 ;; IF == {
0109fe d0 04                               bne +4                ; IF109fe_end [10a04]
010a00                                 ;; BREAK
010a00 4f 80 05 00                         bra.a24 +5            ; loop109fc_end [10a09]
010a04                 IF109fe_end:
010a04 91 fe                               sta ($fe),Y           ; TXTPTR
010a06 c8                                  iny
010a07 80 f3                               bra -13               ; LOOP109fc_loop [109fc]
010a09                 LOOP109fc_end:
010a09 4f 60                               rts.a24

010a0b ; SUB calculateRows:
010a0b 1f a5 8e                            lda.w $8e             ; FILESIZE
010a0e 18                                  clc
010a0f 1f 69 07 00                         adc.w #$7
010a13 1f 4a                               lsr.w
010a15 1f 4a                               lsr.w
010a17 1f 4a                               lsr.w
010a19 1f 85 91                            sta.w $91             ; NFILEROWS
010a1c 1f 64 86                            stz.w $86             ; VIEWYFROM
010a1f a9 17                               lda #$17
010a21 1f c5 91                            cmp.w $91             ; NFILEROWS
010a24                                 ;; IF > {
010a24 f0 0a                               beq +10               ; IF10a24_else [10a30]
010a26 90 08                               bcc +8                ; IF10a24_else [10a30]
010a28 1f a5 91                            lda.w $91             ; NFILEROWS
010a2b 1f 85 88                            sta.w $88             ; VIEWYTO
010a2e 80 03                               bra +3                ; IF10a24_end [10a33]
010a30                 IF10a24_else:
010a30                                 ;; ELSE
010a30 1f 85 88                            sta.w $88             ; VIEWYTO
010a33                 IF10a24_end:
010a33 4f 60                               rts.a24

010a35 ; SUB updateViewableRows:
010a35 1f a5 86                            lda.w $86             ; VIEWYFROM
010a38 18                                  clc
010a39 1f 69 17 00                         adc.w #$17
010a3d 1f c5 91                            cmp.w $91             ; NFILEROWS
010a40                                 ;; IF > {
010a40 f0 0a                               beq +10               ; IF10a40_else [10a4c]
010a42 90 08                               bcc +8                ; IF10a40_else [10a4c]
010a44 1f a5 91                            lda.w $91             ; NFILEROWS
010a47 1f 85 88                            sta.w $88             ; VIEWYTO
010a4a 80 03                               bra +3                ; IF10a40_end [10a4f]
010a4c                 IF10a40_else:
010a4c                                 ;; ELSE
010a4c 1f 85 88                            sta.w $88             ; VIEWYTO
010a4f                 IF10a40_end:
010a4f 4f 60                               rts.a24

010a51 ; SUB clearText2Screen:
0000b4-0000b5   ; VAR @ROWPTR
010a51 a2 00                               ldx #$0
010a53                 DO10a53_start:
010a53                                 ;; DO {
010a53                 DO10a53_loop:
010a53 5f bd 4b 0c 01                      lda.w.a24 $010c4b,X   ; Text2ScreenBase
010a58 1f 85 b4                            sta.w $b4             ; ROWPTR
010a5b a9 a0                               lda #$a0
010a5d                 FOR10a5d_start:
010a5d                                 ;; FOR Y = 0 TO 39 {
010a5d a0 00                               ldy #$0
010a5f                 FOR10a5d_loop:
010a5f 91 b4                               sta ($b4),Y           ; ROWPTR
010a61 c8                                  iny
010a62 c0 28                               cpy #$28
010a64 d0 f9                               bne -7                ; FOR10a5d_loop [10a5f]
010a66                 FOR10a5d_end:
010a66 e8                                  inx
010a67 e8                                  inx
010a68 e0 30                               cpx #$30
010a6a                                 ;; WHILE !=
010a6a f0 02                               beq +2                ; DO10a53_end [10a6e]
010a6c 80 e5                               bra -27               ; DO10a53_loop [10a53]
010a6e                 DO10a53_end:
010a6e 4f 60                               rts.a24

010a70 ; SUB debugValueT2:
010a70 48                                  pha
010a71 48                                  pha
010a72                       ;; A >>= 4 
010a72 4a                                  lsr
010a73 4a                                  lsr
010a74 4a                                  lsr
010a75 4a                                  lsr
010a76                                 ;; IF >= 10 {
010a76 c9 0a                               cmp #$a
010a78 90 05                               bcc +5                ; IF10a76_else [10a7f]
010a7a                       ;; A += 183 
010a7a 18                                  clc
010a7b 69 b7                               adc #$b7
010a7d 80 03                               bra +3                ; IF10a76_end [10a82]
010a7f                 IF10a76_else:
010a7f                                 ;; ELSE
010a7f                       ;; A += 176 
010a7f 18                                  clc
010a80 69 b0                               adc #$b0
010a82                 IF10a76_end:
010a82 8d 26 08                            sta $0826
010a85 68                                  pla
010a86                       ;; A &= 15 
010a86 29 0f                               and #$f
010a88                                 ;; IF >= 10 {
010a88 c9 0a                               cmp #$a
010a8a 90 05                               bcc +5                ; IF10a88_else [10a91]
010a8c                       ;; A += 183 
010a8c 18                                  clc
010a8d 69 b7                               adc #$b7
010a8f 80 03                               bra +3                ; IF10a88_end [10a94]
010a91                 IF10a88_else:
010a91                                 ;; ELSE
010a91                       ;; A += 176 
010a91 18                                  clc
010a92 69 b0                               adc #$b0
010a94                 IF10a88_end:
010a94 8d 27 08                            sta $0827
010a97 68                                  pla
010a98 4f 60                               rts.a24

010a9a ; SUB debugValueA:
010a9a 48                                  pha
010a9b 48                                  pha
010a9c                       ;; A >>= 4 
010a9c 4a                                  lsr
010a9d 4a                                  lsr
010a9e 4a                                  lsr
010a9f 4a                                  lsr
010aa0                                 ;; IF >= 10 {
010aa0 c9 0a                               cmp #$a
010aa2 90 05                               bcc +5                ; IF10aa0_else [10aa9]
010aa4                       ;; A += 183 
010aa4 18                                  clc
010aa5 69 b7                               adc #$b7
010aa7 80 03                               bra +3                ; IF10aa0_end [10aac]
010aa9                 IF10aa0_else:
010aa9                                 ;; ELSE
010aa9                       ;; A += 176 
010aa9 18                                  clc
010aaa 69 b0                               adc #$b0
010aac                 IF10aa0_end:
010aac 8d 26 04                            sta $0426
010aaf 68                                  pla
010ab0                       ;; A &= 15 
010ab0 29 0f                               and #$f
010ab2                                 ;; IF >= 10 {
010ab2 c9 0a                               cmp #$a
010ab4 90 05                               bcc +5                ; IF10ab2_else [10abb]
010ab6                       ;; A += 183 
010ab6 18                                  clc
010ab7 69 b7                               adc #$b7
010ab9 80 03                               bra +3                ; IF10ab2_end [10abe]
010abb                 IF10ab2_else:
010abb                                 ;; ELSE
010abb                       ;; A += 176 
010abb 18                                  clc
010abc 69 b0                               adc #$b0
010abe                 IF10ab2_end:
010abe 8d 27 04                            sta $0427
010ac1 68                                  pla
010ac2 4f 60                               rts.a24

010ac4 ; SUB debugValueB:
010ac4 48                                  pha
010ac5 48                                  pha
010ac6                       ;; A >>= 4 
010ac6 4a                                  lsr
010ac7 4a                                  lsr
010ac8 4a                                  lsr
010ac9 4a                                  lsr
010aca                                 ;; IF >= 10 {
010aca c9 0a                               cmp #$a
010acc 90 05                               bcc +5                ; IF10aca_else [10ad3]
010ace                       ;; A += 183 
010ace 18                                  clc
010acf 69 b7                               adc #$b7
010ad1 80 03                               bra +3                ; IF10aca_end [10ad6]
010ad3                 IF10aca_else:
010ad3                                 ;; ELSE
010ad3                       ;; A += 176 
010ad3 18                                  clc
010ad4 69 b0                               adc #$b0
010ad6                 IF10aca_end:
010ad6 8d 23 04                            sta $0423
010ad9 68                                  pla
010ada                       ;; A &= 15 
010ada 29 0f                               and #$f
010adc                                 ;; IF >= 10 {
010adc c9 0a                               cmp #$a
010ade 90 05                               bcc +5                ; IF10adc_else [10ae5]
010ae0                       ;; A += 183 
010ae0 18                                  clc
010ae1 69 b7                               adc #$b7
010ae3 80 03                               bra +3                ; IF10adc_end [10ae8]
010ae5                 IF10adc_else:
010ae5                                 ;; ELSE
010ae5                       ;; A += 176 
010ae5 18                                  clc
010ae6 69 b0                               adc #$b0
010ae8                 IF10adc_end:
010ae8 8d 24 04                            sta $0424
010aeb 68                                  pla
010aec 4f 60                               rts.a24

010aee ; SUB debugValueC:
010aee 48                                  pha
010aef 48                                  pha
010af0                       ;; A >>= 4 
010af0 4a                                  lsr
010af1 4a                                  lsr
010af2 4a                                  lsr
010af3 4a                                  lsr
010af4                                 ;; IF >= 10 {
010af4 c9 0a                               cmp #$a
010af6 90 05                               bcc +5                ; IF10af4_else [10afd]
010af8                       ;; A += 183 
010af8 18                                  clc
010af9 69 b7                               adc #$b7
010afb 80 03                               bra +3                ; IF10af4_end [10b00]
010afd                 IF10af4_else:
010afd                                 ;; ELSE
010afd                       ;; A += 176 
010afd 18                                  clc
010afe 69 b0                               adc #$b0
010b00                 IF10af4_end:
010b00 8d 20 04                            sta $0420
010b03 68                                  pla
010b04                       ;; A &= 15 
010b04 29 0f                               and #$f
010b06                                 ;; IF >= 10 {
010b06 c9 0a                               cmp #$a
010b08 90 05                               bcc +5                ; IF10b06_else [10b0f]
010b0a                       ;; A += 183 
010b0a 18                                  clc
010b0b 69 b7                               adc #$b7
010b0d 80 03                               bra +3                ; IF10b06_end [10b12]
010b0f                 IF10b06_else:
010b0f                                 ;; ELSE
010b0f                       ;; A += 176 
010b0f 18                                  clc
010b10 69 b0                               adc #$b0
010b12                 IF10b06_end:
010b12 8d 21 04                            sta $0421
010b15 68                                  pla
010b16 4f 60                               rts.a24

010b18 ; DATA Header:
010b18 42 49 4e 2d 45 64 69 74 20 5d 5b 34 20 2d 20 61 20 42 49 4e 20 66 69 6c 65 20 65 64 69 74 6f 72 00

010b39 ; DATA EditingStr:
010b39 2d 2d 20 45 44 49 54 49 4e 47 20 2d 2d 00

010b47 ; DATA HelpEditStr:
010b47 20 45 4e 54 45 52 20 2d 20 45 64 69 74 20 76 61 6c 75 65 00

010b5b ; DATA HelpUDLRStr:
010b5b 20 75 70 2f 64 6f 77 6e 2f 6c 65 66 74 2f 72 69 67 68 74 20 2d 20 4d 6f 76 65 20 43 75 72 73 6f 72 00

010b7d ; DATA HelpPMStr:
010b7d 20 2b 2f 2d 20 2d 20 4e 65 78 74 2f 50 72 65 76 69 6f 75 73 20 50 61 67 65 00

010b97 ; DATA HelpListStr:
010b97 20 42 49 4e 2d 45 64 69 74 20 43 4f 4d 4d 41 4e 44 53 3a 00

010bab ; DATA LoadedStr:
010bab 4c 4f 41 44 45 44 3a 20 00

010bb4 ; DATA StoredStr:
010bb4 53 54 4f 52 45 44 3a 20 00

010bbd ; DATA BINFileType:
010bbd 42 49 4e 00

010bc1 ; DATA UnknownCommandErr:
010bc1 2a 2a 20 45 52 52 4f 52 3a 20 55 6e 6b 6e 6f 77 6e 20 63 6f 6d 6d 61 6e 64 00

010bdb ; DATA NoFilenameErrStr:
010bdb 2a 2a 20 46 49 4c 45 4e 41 4d 45 20 6d 75 73 74 20 62 65 20 73 70 65 63 69 66 69 65 64 00

010bf9 ; DATA MissingValueErr:
010bf9 2a 2a 20 45 52 52 4f 52 3a 20 4d 69 73 73 69 6e 67 20 56 41 4c 55 45 00

010c11 ; DATA MissingStartErr:
010c11 2a 2a 20 45 52 52 4f 52 3a 20 4d 69 73 73 69 6e 67 20 53 54 41 52 54 20 76 61 6c 75 65 00

010c2f ; DATA MissingEndErr:
010c2f 2a 2a 20 45 52 52 4f 52 3a 20 4d 69 73 73 69 6e 67 20 45 4e 44 20 76 61 6c 75 65 00

010c4b ; DATA Text2ScreenBase:
010c4b 00 08
010c4d 80 08
010c4f 00 09
010c51 80 09
010c53 00 0a
010c55 80 0a
010c57 00 0b
010c59 80 0b
010c5b 28 08
010c5d a8 08
010c5f 28 09
010c61 a8 09
010c63 28 0a
010c65 a8 0a
010c67 28 0b
010c69 a8 0b
010c6b 50 08
010c6d d0 08
010c6f 50 09
010c71 d0 09
010c73 50 0a
010c75 d0 0a
010c77 50 0b
010c79 d0 0b

010c7b ; DATA CMD_Help:
010c7b 3f 00

010c7d ; DATA CMD_Load:
010c7d 6c 6f 61 64 00

010c82 ; DATA CMD_Store:
010c82 73 74 6f 72 65 00

010c88 ; DATA CMD_X:
010c88 78 00

010c8a ; DATA CMD_Y:
010c8a 79 00

010c8c ; DATA CMD_Quit:
010c8c 71 75 69 74 00

010c91 ; DATA CommandList:
010c91 7b 0c 01
010c94 73 05 01
010c97 7d 0c 01
010c9a 78 06 01
010c9d 82 0c 01
010ca0 44 07 01
010ca3 88 0c 01
010ca6 30 08 01
010ca9 8a 0c 01
010cac 72 08 01
010caf 8c 0c 01
010cb2 b5 08 01
